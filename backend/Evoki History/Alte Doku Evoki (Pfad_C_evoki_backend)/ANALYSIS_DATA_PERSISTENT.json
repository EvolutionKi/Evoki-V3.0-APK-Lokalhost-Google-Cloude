{
  "metadata": {
    "title": "Tiefenanalyse Archiv - Persistente Daten",
    "created": "2025-12-06T06:15:00Z",
    "author": "RESCUE (Code Historikerin)",
    "version": "1.0.0",
    "source": "DEEP_ANALYSE_v1.ipynb",
    "data_basis": {
      "files": 21987,
      "words": 4074975,
      "date_range": "2025-02-08 to 2025-10-17",
      "days": 127,
      "readiness_score": 90
    }
  },
  "executive_summary": {
    "quick_vs_forensic": {
      "files_delta": 0,
      "words_delta": 0,
      "days_delta": 0,
      "status": "PERFEKT KONGRUENT"
    },
    "user_ai_balance": {
      "user_count": 11016,
      "ai_count": 10971,
      "ratio": "50.1% / 49.9%",
      "status": "OPTIMAL"
    },
    "verdict": "READY FOR VECTORIZATION"
  },
  "methodology": {
    "extraction": {
      "tool": "html_forensic_extractor_v2.py",
      "method": "REGEX + Streaming",
      "input": "Google Takeout HTML (73.03 MB)",
      "output": "21,987 TXT files",
      "runtime": "13 seconds",
      "throughput": "5.6 MB/s",
      "error_rate": 0,
      "steps": [
        "Load HTML (73.03 MB)",
        "REGEX Pattern Match: 'Eingegebener Prompt:\\s*([^\\n]+)\\n(\\d{2}\\.\\d{2}\\.\\d{4},...)'",
        "HTML Decode: html.unescape()",
        "Unicode Normalize: \\xa0 → ' '",
        "Whitespace Cleanup: ' '.join(text.split())",
        "Chronological Sort: datetime.strptime(timestamp, '%d.%m.%Y, %H:%M:%S')",
        "Generate TXT: YYYY/MM/DD/Prompt_N_speaker.txt"
      ]
    },
    "deep_analysis": {
      "tool": "analyse_daten_v2.py",
      "method": "Pandas Aggregation",
      "input": "21,987 TXT files",
      "output": "analysis_stats.json + ANALYSE_BERICHT.txt",
      "runtime": "6 seconds",
      "steps": [
        "Segment Division: Quartiles (chronological)",
        "Statistics per Segment: Mean, Median, StdDev, Min, Max",
        "Quick vs Forensic Comparison: Delta = Forensic - Quick",
        "Readiness Scoring: Based on 8 criteria"
      ]
    },
    "interactive_analysis": {
      "tool": "DEEP_ANALYSE_v1.ipynb",
      "method": "Jupyter Interactive",
      "cells_executed": 10,
      "runtime": "~8 seconds",
      "visualizations": [
        "Plotly Bar Chart (monthly density)",
        "Plotly Heatmap (daily weekday × hour)",
        "Plotly Histogram (word distribution user/ai)",
        "Pandas DataFrame (comparison tables)"
      ]
    },
    "semantic_validation": {
      "sample_size": 1000,
      "checks": [
        {
          "name": "Speaker Consistency",
          "pattern": "speaker in ['user', 'ai']",
          "valid": 1000,
          "invalid": 0,
          "percentage": 100.0
        },
        {
          "name": "Timestamp Format",
          "pattern": "re.match(r'\\d{2}\\.\\d{2}\\.\\d{4}, \\d{2}:\\d{2}:\\d{2}', timestamp)",
          "valid": 1000,
          "invalid": 0,
          "percentage": 100.0
        },
        {
          "name": "Empty Messages",
          "pattern": "message.strip() != ''",
          "valid": 1000,
          "invalid": 0,
          "percentage": 100.0
        },
        {
          "name": "Punctuation Ending",
          "pattern": "message[-1] in '.!?,;:—–'",
          "valid": 862,
          "invalid": 138,
          "percentage": 86.2
        }
      ]
    }
  },
  "segments": [
    {
      "id": 1,
      "date_range": "2025-02-08 to 2025-07-08",
      "files": 5496,
      "user_files": 2750,
      "ai_files": 2746,
      "word_stats": {
        "mean": 163,
        "median": 51,
        "stdev": 312,
        "min": 1,
        "max": 9152
      },
      "characteristics": "Frühe Phase mit ausgewogenen, moderaten Interaktionen"
    },
    {
      "id": 2,
      "date_range": "2025-07-08 to 2025-07-25",
      "files": 5497,
      "user_files": 2749,
      "ai_files": 2748,
      "word_stats": {
        "mean": 214,
        "median": 50,
        "stdev": 453,
        "min": 1,
        "max": 8607
      },
      "characteristics": "Intensive Phase mit längeren, komplexeren Antworten (+31% vs S1)"
    },
    {
      "id": 3,
      "date_range": "2025-07-25 to 2025-10-03",
      "files": 5497,
      "user_files": 2762,
      "ai_files": 2735,
      "word_stats": {
        "mean": 127,
        "median": 46,
        "stdev": 335,
        "min": 1,
        "max": 8273
      },
      "characteristics": "Rückgang zu kürzeren, fokussierten Interaktionen (-41% vs S2)"
    },
    {
      "id": 4,
      "date_range": "2025-10-03 to 2025-10-17",
      "files": 5497,
      "user_files": 2755,
      "ai_files": 2742,
      "word_stats": {
        "mean": 237,
        "median": 75,
        "stdev": 932,
        "min": 1,
        "max": 43165
      },
      "characteristics": "AKTUELLE EXPLOSION - längste, komplexeste Antworten (+87% vs S3)"
    }
  ],
  "interaction_density": {
    "monthly": [
      {
        "month": "2025-02",
        "count": 1342,
        "percentage": 6.1
      },
      {
        "month": "2025-03",
        "count": 3156,
        "percentage": 14.4
      },
      {
        "month": "2025-04",
        "count": 2589,
        "percentage": 11.8
      },
      {
        "month": "2025-05",
        "count": 1987,
        "percentage": 9.0
      },
      {
        "month": "2025-06",
        "count": 1254,
        "percentage": 5.7
      },
      {
        "month": "2025-07",
        "count": 8941,
        "percentage": 40.7,
        "note": "PEAK"
      },
      {
        "month": "2025-08",
        "count": 0,
        "percentage": 0.0,
        "note": "GAP"
      },
      {
        "month": "2025-09",
        "count": 0,
        "percentage": 0.0,
        "note": "GAP"
      },
      {
        "month": "2025-10",
        "count": 2718,
        "percentage": 12.4
      }
    ],
    "top_active_times": [
      {
        "weekday": "Thursday",
        "hour_range": "14:00-16:00",
        "count": 782
      },
      {
        "weekday": "Wednesday",
        "hour_range": "10:00-12:00",
        "count": 654
      },
      {
        "weekday": "Friday",
        "hour_range": "15:00-17:00",
        "count": 612
      }
    ],
    "insights": {
      "peak_hours": "14:00-18:00 (afternoons)",
      "inactive_hours": "23:00-05:00 (nights)",
      "weekend_activity": "Lower than weekdays"
    }
  },
  "embedding_comparison": [
    {
      "model": "Mini-LLM (Current)",
      "dimensions": 386,
      "use_case": "Lightweight",
      "compression_factor": 1.0,
      "recommendation": "OK for testing"
    },
    {
      "model": "Sentence-BERT",
      "dimensions": 384,
      "use_case": "Semantic Similarity",
      "compression_factor": 0.996,
      "recommendation": "RECOMMENDED (Speed)"
    },
    {
      "model": "OpenAI ada (deprecated)",
      "dimensions": 1536,
      "use_case": "General Purpose",
      "compression_factor": 0.251,
      "recommendation": "Deprecated"
    },
    {
      "model": "OpenAI text-embedding-3-small",
      "dimensions": 1536,
      "use_case": "Production",
      "compression_factor": 0.251,
      "recommendation": "RECOMMENDED (Quality)"
    },
    {
      "model": "Medical Trauma Model (Hypothetical)",
      "dimensions": 1536,
      "use_case": "Domain-specific",
      "compression_factor": 0.251,
      "recommendation": "For trauma semantics"
    },
    {
      "model": "GPT-4 Embedding",
      "dimensions": 1536,
      "use_case": "Advanced Semantics",
      "compression_factor": 0.251,
      "recommendation": "High-end option"
    }
  ],
  "word_distribution": {
    "user_prompts": {
      "count": 11016,
      "mean": 44,
      "median": 25,
      "stdev": 67,
      "min": 1,
      "max": 2156,
      "distribution": {
        "0-10": 32,
        "11-25": 38,
        "26-50": 18,
        "51-100": 8,
        "101+": 4
      }
    },
    "ai_responses": {
      "count": 10971,
      "mean": 328,
      "median": 205,
      "stdev": 524,
      "min": 1,
      "max": 43165,
      "distribution": {
        "0-50": 15,
        "51-100": 16,
        "101-200": 24,
        "201-500": 32,
        "501+": 13
      }
    },
    "ratio": {
      "ai_to_user": 7.5,
      "interpretation": "Klassisches Q&A-Pattern (kurze Frage → ausführliche Antwort)"
    }
  },
  "readiness_criteria": [
    {
      "criterion": "Datenumfang",
      "threshold": "> 20,000",
      "actual": 21987,
      "status": "PASS",
      "score": 10
    },
    {
      "criterion": "Wortmenge",
      "threshold": "> 3,000,000",
      "actual": 4074975,
      "status": "PASS",
      "score": 15
    },
    {
      "criterion": "Zeitabdeckung",
      "threshold": "> 100 Tage",
      "actual": 127,
      "status": "PASS",
      "score": 10
    },
    {
      "criterion": "Speaker-Konsistenz",
      "threshold": "100%",
      "actual": 100.0,
      "status": "PASS",
      "score": 20
    },
    {
      "criterion": "Timestamps",
      "threshold": "100%",
      "actual": 100.0,
      "status": "PASS",
      "score": 10
    },
    {
      "criterion": "User/AI Balance",
      "threshold": "~50/50",
      "actual": "50.1/49.9",
      "status": "PASS",
      "score": 10
    },
    {
      "criterion": "Content-Variabilität",
      "threshold": "σ > 50",
      "actual": 568,
      "status": "PASS",
      "score": 10
    },
    {
      "criterion": "Parsing-Fehler",
      "threshold": "0%",
      "actual": 0.0,
      "status": "PASS",
      "score": 5
    }
  ],
  "total_readiness_score": {
    "score": 90,
    "max": 100,
    "status": "EXZELLENT"
  },
  "recommendations": {
    "immediate": [
      {
        "priority": 1,
        "action": "Embedding-Generierung starten",
        "options": [
          "Sentence-BERT (384D) für schnelle MVP",
          "OpenAI text-embedding-3-small (1536D) für höhere Qualität"
        ]
      },
      {
        "priority": 2,
        "action": "Optional: Satzzeichen-Cleanup",
        "details": "138 Einträge (13.8%) nachbearbeiten mit Regex: message = re.sub(r'([^.!?;:])$', r'\\1.', message)"
      }
    ],
    "later": [
      {
        "priority": 3,
        "action": "Metriken-Anreicherung",
        "details": "Evoki Physics Integration, Semantic Coherence Scoring"
      },
      {
        "priority": 4,
        "action": "Vector Database Setup",
        "details": "ChromaDB, Pinecone oder FAISS, Index-Optimierung"
      }
    ],
    "integration": [
      {
        "priority": 5,
        "action": "Semantic Search aktivieren",
        "details": "Query-API implementieren, Brain Vectorization System Update"
      }
    ]
  },
  "artifacts": {
    "generated_files": [
      "backend/VectorRegs_FORENSIC/2025/ (21,987 TXT-Dateien)",
      "backend/VectorRegs_FORENSIC/extraction_summary.json",
      "backend/VectorRegs_FORENSIC/analysis_stats.json",
      "backend/VectorRegs_FORENSIC/Verifizierung_Wortanzahl.txt",
      "backend/ANALYSE_BERICHT.txt",
      "backend/DATENQUALITÄT_BERICHT.txt",
      "backend/ABSCHLUSSBERICHT_Forensische_Extraktion.txt",
      "backend/TIEFENANALYSE_ARCHIV_v1.md",
      "backend/FLOWCHARTS_DIAGRAMME.md",
      "backend/ANALYSIS_DATA_PERSISTENT.json (this file)",
      "DEEP_ANALYSE_v1.ipynb"
    ],
    "execution_history": [
      {
        "file": "html_forensic_extractor_v2.py",
        "method": "REGEX + Streaming",
        "input_size": "73.03 MB",
        "output_count": 21987,
        "runtime_seconds": 13
      },
      {
        "file": "analyse_daten_v2.py",
        "method": "Pandas Aggregation",
        "input_count": 21987,
        "output_files": 2,
        "runtime_seconds": 6
      },
      {
        "file": "DEEP_ANALYSE_v1.ipynb",
        "method": "Interactive Analysis",
        "cells_executed": 10,
        "runtime_seconds": 8
      }
    ],
    "total_runtime_seconds": 27
  },
  "next_steps": [
    "Embedding-Generierung (Sentence-BERT oder OpenAI)",
    "Vector Database Setup (ChromaDB / Pinecone)",
    "Semantic Search Integration",
    "Brain Vectorization System Update"
  ],
  "references": {
    "primary_data": "Google Takeout (MeineAktivitäten.html, 73.03 MB)",
    "extraction_script": "html_forensic_extractor_v2.py",
    "analysis_scripts": [
      "blitz_analyse.py",
      "analyse_daten_v2.py"
    ],
    "interactive_notebook": "DEEP_ANALYSE_v1.ipynb",
    "archive_documents": [
      "TIEFENANALYSE_ARCHIV_v1.md",
      "FLOWCHARTS_DIAGRAMME.md"
    ]
  }
}
